{"version":3,"sources":["components/Detail.js","components/Painting.js","components/Collabsible.js","components/Content.js","App.js","index.js"],"names":["Detail","curPainting","console","log","this","props","show","data","Array","isArray","index","document","body","style","overflow","className","src","images","sizes","s","alt","title","description","repository","owner","structuredDimension","height","width","onClick","handleClose","prev","next","Component","Painting","useState","isOpen","setIsOpen","setCurPainting","paintings","filter","painting","dating","begin","year","toggleModal","useEffect","onChangeAmount","length","map","key","Collapsible","amount","setAmount","changeAmount","prevAmount","items","Set","e","persist","target","classList","toggle","content","nextElementSibling","maxHeight","scrollHeight","onCollapsible","baseUrl","Content","state","isLoaded","setState","fetchData","language","prevProps","id","url","fetch","then","res","json","catch","React","App","tmpId","handleLangChange","event","value","handleInputChange","submitInput","preventDefault","onSubmit","type","placeholder","onChange","href","ReactDOM","render","StrictMode","getElementById"],"mappings":"uWAoDeA,G,6KAxCH,IAAD,UAGDC,EAPN,OADAC,QAAQC,IAAIC,KAAKC,MAAMC,MACnBF,KAAKC,MAAMC,MAMbJ,QAAQC,IAAIC,KAAKC,MAAME,MAGrBN,EADEO,MAAMC,QAAQL,KAAKC,MAAME,MACbH,KAAKC,MAAME,KAAKH,KAAKC,MAAMK,OAE3BN,KAAKC,MAAME,KAE3BI,SAASC,KAAKC,MAAMC,SAAW,SAE7B,yBAAKC,UAAU,kBACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,iBACb,yBAAKA,UAAU,cAAcC,IAAG,UAAEf,EAAYgB,cAAd,iBAAE,EAAoBC,aAAtB,iBAAE,EAA2BC,SAA7B,aAAE,EAA8BH,IAAKI,IAAI,yBACzE,yBAAKL,UAAU,cACb,wBAAIA,UAAU,oBAAqBd,EAAYoB,OAC/C,uBAAGN,UAAU,oBAAoBd,EAAYqB,aAC7C,wBAAIP,UAAU,mBAAmBd,EAAYsB,YAC7C,wBAAIR,UAAU,oBACVd,EAAYsB,aAAetB,EAAYuB,MAAS,GAAKvB,EAAYuB,OAErE,wBAAIT,UAAU,mBACX,UAAAd,EAAYwB,2BAAZ,eAAiCC,QAAS,OAA1C,UAAkDzB,EAAYwB,2BAA9D,aAAkD,EAAiCE,OAAQ,OAE9F,4BAAQZ,UAAU,oBAAoBa,QAASxB,KAAKC,MAAMwB,aAA1D,OACA,4BAAQd,UAAU,mBAChB,kBAAC,IAAD,CAAaA,UAAU,oBAAoBa,QAASxB,KAAKC,MAAMyB,QAEjE,4BAAQf,UAAU,mBAChB,kBAAC,IAAD,CAAcA,UAAU,oBAAoBa,QAASxB,KAAKC,MAAM0B,cAhC5EpB,SAASC,KAAKC,MAAMC,SAAW,GACxB,U,GAPQkB,c,MCmDNC,MAnDf,SAAmB5B,GAAQ,IAAD,EACI6B,oBAAS,GADb,mBACjBC,EADiB,KACTC,EADS,OAEcF,mBAAS,GAFvB,mBAEjBjC,EAFiB,KAEJoC,EAFI,KAKlBC,EAAYjC,EAAMiC,UAAUC,QAAO,SAAAC,GAAQ,OAAIA,EAASC,OAAOC,QAAUrC,EAAMsC,QAG/EC,EAAc,SAAClC,GACnB0B,GAAWD,GACXE,EAAe3B,IA6BjB,OALAmC,qBAAU,WACRxC,EAAMyC,eAAeR,EAAUS,UAC/B,IAIA,6BACGT,EAAUU,KAAI,SAACR,EAAU9B,GAAX,iBACb,yBAAKK,UAAU,OAAOkC,IAAKvC,EAAOkB,QAAS,kBAAIgB,EAAYlC,KACzD,yBAAKK,UAAW,iBAAiBC,IAAG,OAAEwB,QAAF,IAAEA,GAAF,UAAEA,EAAUvB,cAAZ,iBAAE,EAAkBC,aAApB,iBAAE,EAAyBC,SAA3B,aAAE,EAA4BH,IAAKI,IAAG,OAAEoB,QAAF,IAAEA,OAAF,EAAEA,EAAUnB,YAG1F,kBAAC,EAAD,CAAQf,KAAM6B,EAAQ5B,KAAQF,EAAMiC,UAAW5B,MAAST,EAAa8B,KAhCpD,WACnB,GAAG9B,IAAgBI,EAAMiC,UAAUS,OAAO,EACxC,OAAO,KAEP7C,QAAQC,IAAI,QACZkC,EAAepC,EAAY,IA2BgE6B,KAtB1E,WACnB,GAAmB,IAAhB7B,EACD,OAAO,KAEPC,QAAQC,IAAI,QACZkC,EAAepC,EAAY,IAiBsF4B,YAAee,M,cCQvHM,MAzCf,SAAqB7C,GAAQ,IAAD,EACE6B,mBAAS,IADX,mBACnBiB,EADmB,KACXC,EADW,OAEElB,oBAAS,GAFX,mBAMpBmB,GANoB,UAML,SAACF,GACpBjD,QAAQC,IAAI,OAASgD,GACrBC,GAAU,SAAAE,GAAU,4BAAQA,GAAR,CAAoBH,SAI1C,OAAG3C,MAAMC,QAAQJ,EAAMkD,OAEP,YAAO,IAAIC,IAAInD,EAAMkD,MAAMP,KAAI,SAAAzC,GAAI,OAAIA,EAAKkC,OAAOC,WACjDM,KAAI,SAACL,EAAMjC,GAAP,OAClB,yBAAKuC,IAAKN,EAAM5B,UAAU,eACxB,yBAAKA,UAAU,qBAAqBa,QAAS,SAAA6B,GAAC,OA5BtD,SAAuBA,GACrBA,EAAEC,UACFD,EAAEE,OAAOC,UAAUC,OAAO,UAC1B,IAAMC,EAAUL,EAAEE,OAAOI,mBACrBD,EAAQjD,MAAMmD,UAChBF,EAAQjD,MAAMmD,UAAY,KAE1BF,EAAQjD,MAAMmD,UAAYF,EAAQG,aAAe,KAqBKC,CAAcT,KAC9D,wBAAI1C,UAAU,qBAAqB4B,GACnC,yBAAK5B,UAAU,0BACf,yBAAKA,UAAU,uBACb,kBAAC,IAAD,CAASA,UAAY,sBACrB,uBAAGA,UAAU,sBAAsBoC,EAAOzC,KAE5C,yBAAKK,UAAU,2BAEjB,yBAAKA,UAAU,uBACb,kBAAC,EAAD,CAAUuB,UAAajC,EAAMkD,MAAOZ,KAAQA,EAAMG,eAAkBO,SAQxE,kBAAC,EAAD,CAAQ/C,MAAM,EAAMC,KAAQF,EAAMkD,MAAO7C,MAAO,KC/ChDyD,EAAU,2DAmEDC,E,4MA9DbC,MAAQ,CACNd,MAAO,GACPe,UAAU,EACVnC,QAAQ,G,EA2BVS,YAAc,WACZ,EAAK2B,SAAS,CAACpC,QAAS,EAAKkC,MAAMlC,U,uDAzB3B,IAAD,EACyB/B,KAAKiE,MAAhCC,EADE,EACFA,SAAUf,EADR,EACQA,MADR,EACepB,OAEtB,OAAImC,EAGC9D,MAAMC,QAAQ8C,IACfrD,QAAQC,IAAI,iBAEV,6BACE,kBAAC,EAAD,CAAaoD,MAASA,OAI1BrD,QAAQC,IAAI,kBACZD,QAAQC,IAAIC,KAAKiE,MAAMlC,QAGrB,kBAAC,EAAD,CAAQ7B,MAAOF,KAAKiE,MAAMlC,OAAQ5B,KAAQgD,EAAO1B,YAAezB,KAAKwC,eAdlE,6C,0CAyBTxC,KAAKoE,UAAUL,EAvCA,MAuCuB/D,KAAKC,MAAMoE,SAAW,gB,yCAG3CC,GACjBxE,QAAQC,IAAIuE,GACTtE,KAAKC,MAAMoE,WAAaC,EAAUD,WACnCvE,QAAQC,IAAI,iCACZC,KAAKoE,UAAUL,EA9CF,MA8CyB/D,KAAKC,MAAMoE,SAAW,eAG3DrE,KAAKC,MAAMsE,GAAK,GAAKvE,KAAKC,MAAMsE,KAAOD,EAAUC,KAClDzE,QAAQC,IAAI,2BACZC,KAAKoE,UAAUL,EAnDF,MAmDyB/D,KAAKC,MAAMoE,SAAW,cAAgBrE,KAAKC,MAAMsE,O,gCAIjFC,GAAM,IAAD,OACb1E,QAAQC,IAAI,YACZ0E,MAAMD,GACHE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAACvE,GAAD,OAAU,EAAKgE,SAAS,CAC5BD,UAAU,EACVf,MAAOhD,OACR0E,MAAM/E,QAAQC,S,GA5DC+E,IAAMlD,WC4CbmD,E,4MA7Cbd,MAAQ,CACNI,SAAU,KACVE,GAAI,G,EAGNS,MAAQ,E,EAERC,iBAAkB,SAACC,GACjB,EAAKf,SAAS,CAACE,SAAUa,EAAM3B,OAAO4B,S,EAGxCC,kBAAoB,SAACF,GACnB,EAAKF,MAAQE,EAAM3B,OAAO4B,O,EAG5BE,YAAc,SAACH,GACbA,EAAMI,iBACN,EAAKnB,SAAS,CAACI,GAAI,EAAKS,S,uDAIxB,OACE,yBAAKrE,UAAU,OACb,4BAAQA,UAAU,cAChB,yBAAKA,UAAU,sBACb,wBAAIA,UAAU,gBAAd,QACA,0BAAMA,UAAU,eAAe4E,SAAUvF,KAAKqF,aAC5C,2BAAOG,KAAK,SAASC,YAAY,OAAOC,SAAU1F,KAAKoF,oBACvD,2BAAOI,KAAK,SAASL,MAAM,QAE7B,4BAAQxE,UAAU,qBAAqBwE,MAAOnF,KAAKiE,MAAMI,SAAUqB,SAAU1F,KAAKiF,kBAChF,4BAAQE,MAAM,MAAd,WACA,4BAAQA,MAAM,MAAd,cAIN,yBAAKxE,UAAU,YACb,kBAAC,EAAD,CAAS0D,SAAYrE,KAAKiE,MAAMI,SAAUE,GAAIvE,KAAKiE,MAAMM,MAE3D,4BAAQ5D,UAAU,cAAlB,WAAuC,uBAAGgF,KAAK,6BAAR,kB,GAzC7B/D,aCGlBgE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,QAGJvF,SAASwF,eAAe,W","file":"static/js/main.14c199e2.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {FiArrowRight, FiArrowLeft} from \"react-icons/fi\";\r\nimport \"../css/Detail.css\";\r\n\r\nclass Detail extends Component {\r\n\r\n  render() {\r\n    console.log(this.props.show);\r\n    if(!this.props.show) {\r\n      //make body scrollable again\r\n      document.body.style.overflow = \"\"\r\n      return null;\r\n    } else {\r\n      //prevent scrollable background\r\n      console.log(this.props.data);\r\n      var curPainting \r\n      if (Array.isArray(this.props.data)) {\r\n        curPainting = this.props.data[this.props.index]\r\n      }else {\r\n        curPainting = this.props.data\r\n      }\r\n      document.body.style.overflow = \"hidden\"\r\n      return (\r\n        <div className=\"modal-backdrop\">\r\n          <div className=\"mymodal\">\r\n            <div className=\"modal-content\">\r\n              <img className=\"modal-image\" src={curPainting.images?.sizes?.s?.src} alt=\"no picture available\"/>\r\n              <div className=\"modal-info\">\r\n                <h2 className=\"modal-info-title\" >{curPainting.title}</h2>\r\n                <p className=\"modal-info-descr\">{curPainting.description}</p>\r\n                <h6 className=\"modal-info-repo\">{curPainting.repository}</h6>\r\n                <h6 className=\"modal-info-owner\">\r\n                  {(curPainting.repository === curPainting.owner) ? \"\" : curPainting.owner}\r\n                </h6>\r\n                <h6 className=\"modal-info-dim\">\r\n                  {curPainting.structuredDimension?.height + \" x \" + curPainting.structuredDimension?.width + \" cm\"}\r\n                </h6>\r\n                <button className=\"modal-info-button\" onClick={this.props.handleClose}> X </button>\r\n                <button className=\"modal-info-prev\"> \r\n                  <FiArrowLeft className=\"modal-info-arrows\" onClick={this.props.prev}/>\r\n                </button>\r\n                <button className=\"modal-info-next\"> \r\n                  <FiArrowRight className=\"modal-info-arrows\" onClick={this.props.next}/> \r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }}\r\n}\r\n\r\nexport default Detail;","import React, { useEffect, useState } from 'react';\r\nimport Detail from './Detail';\r\nimport \"../css/Painting.css\";\r\n\r\nfunction Painting (props) {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [curPainting, setCurPainting] = useState(0) \r\n\r\n  //filter paintings by callabsible year\r\n  const paintings = props.paintings.filter(painting => painting.dating.begin === props.year) \r\n\r\n  //open modal when closed, othwerise open it. set index to index of painting clicked\r\n  const toggleModal = (index) => {\r\n    setIsOpen(!isOpen)\r\n    setCurPainting(index)\r\n  }\r\n\r\n  //set index +1 to render next painting. if index reaches end of array do nothing\r\n  const nextPainting = () => {\r\n    if(curPainting === props.paintings.length-1) {\r\n      return null\r\n    } else {\r\n      console.log(\"next\");\r\n      setCurPainting(curPainting+1)\r\n    }\r\n  }\r\n\r\n  //set index -1 to render previous painting. if index reaches beginning of array do nothing\r\n  const prevPainting = () => {\r\n    if(curPainting === 0) {\r\n      return null\r\n    } else {\r\n      console.log(\"prev\");\r\n      setCurPainting(curPainting-1)\r\n    }\r\n  }\r\n\r\n  //update amount of paintings in collapsible. empty array as second parameter added to avoid infinite loop\r\n  useEffect(() => {\r\n    props.onChangeAmount(paintings.length)\r\n  },[])\r\n\r\n  //return a painting preview card for each filtered painting\r\n  return (\r\n    <div>\r\n      {paintings.map((painting, index) => (\r\n        <div className=\"card\" key={index} onClick={()=>toggleModal(index)}>\r\n          <img className= \"painting-image\" src={painting?.images?.sizes?.s?.src} alt={painting?.title}/>\r\n        </div>\r\n      ))}\r\n      <Detail show={isOpen} data = {props.paintings} index = {curPainting} next = {nextPainting} prev = {prevPainting} handleClose = {toggleModal}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Painting","import React, { useEffect, useState } from \"react\";\r\nimport Painting from \"./Painting\";\r\nimport Detail from \"./Detail\";\r\nimport {ImImage} from \"react-icons/im\"\r\nimport '../css/Collapsible.css';\r\n\r\nfunction onCollapsible(e) {\r\n  e.persist();\r\n  e.target.classList.toggle(\"active\");\r\n  const content = e.target.nextElementSibling;\r\n  if (content.style.maxHeight) {\r\n    content.style.maxHeight = null;\r\n  } else {\r\n    content.style.maxHeight = content.scrollHeight + \"px\";\r\n  }\r\n}\r\n\r\nfunction Collapsible(props) {\r\n  const [amount, setAmount] = useState([])\r\n  const [isOpen, setIsOpen] = useState(false)\r\n\r\n\r\n  //set amount received from Painting\r\n  const changeAmount = (amount) => {\r\n    console.log(\"cA: \" + amount);\r\n    setAmount(prevAmount => [...prevAmount, amount])\r\n  }\r\n\r\n  //return a collapsible for each dating in dateList array and fill it with paintings\r\n  if(Array.isArray(props.items)) {\r\n    //create new array with unique datings of paintings\r\n    const dateList = [...new Set(props.items.map(data => data.dating.begin))]\r\n    return dateList.map((year, index) => (\r\n      <div key={year} className=\"collapsible\">\r\n        <div className=\"collapsible-header\" onClick={e => onCollapsible(e)}> \r\n          <h1 className=\"collapsible-title\">{year}</h1>\r\n          <div className=\"collapsible-divider-1\"/>\r\n          <div className=\"collapsible-img-div\">\r\n            <ImImage className = \"collapsible-image\"/>\r\n            <p className=\"collapsible-number\">{amount[index]}</p>\r\n          </div>\r\n          <div className=\"collapsible-divider-2\"/>\r\n        </div>\r\n        <div className=\"collapsible-content\">\r\n          <Painting paintings = {props.items} year = {year} onChangeAmount = {changeAmount} />\r\n        </div>\r\n      </div>\r\n    ));\r\n  } else {\r\n    \r\n    var tmpArr = []\r\n    return (\r\n      <Detail show={true} data = {props.items} index={0}/>\r\n    )\r\n  }\r\n}\r\n    \r\n\r\nexport default Collapsible;","import React from 'react';\r\nimport Collapsible from './Collabsible';\r\nimport Detail from './Detail';\r\n\r\n\r\nconst baseUrl = \"https://project-bpo3-wechsler-backend.herokuapp.com/api/\";\r\nconst apiVersion = \"v2/\"\r\n\r\nclass Content extends React.Component{\r\n\r\n  state = {\r\n    items: [],\r\n    isLoaded: false,\r\n    isOpen: false\r\n  };\r\n\r\n  render() {\r\n    var {isLoaded, items, isOpen} = this.state;\r\n\r\n    if(!isLoaded) {\r\n      return <div>Loading...</div>\r\n    } else {\r\n      if(Array.isArray(items)) {\r\n        console.log(\"DATA IS ARRAY\");\r\n        return (\r\n          <div>\r\n            <Collapsible items = {items}/>\r\n          </div>\r\n        );\r\n      }else{\r\n        console.log(\"DATA IS OBJECT\");\r\n        console.log(this.state.isOpen);\r\n        return(\r\n          \r\n          <Detail show={!this.state.isOpen} data = {items} handleClose = {this.toggleModal}/>   \r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState({isOpen: !this.state.isOpen})\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData(baseUrl + apiVersion + this.props.language + \"/paintings\")\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    console.log(prevProps);\r\n    if(this.props.language !== prevProps.language) {\r\n      console.log(\"fetching new data by language\");\r\n      this.fetchData(baseUrl + apiVersion + this.props.language + \"/paintings\")\r\n    }\r\n\r\n    if(this.props.id > 0 && this.props.id !== prevProps.id) {\r\n      console.log(\"fetching new data by id\")\r\n      this.fetchData(baseUrl + apiVersion + this.props.language + \"/paintings/\" + this.props.id)\r\n    }\r\n  }\r\n  \r\n  fetchData(url) {\r\n    console.log(\"fetching\");\r\n    fetch(url)\r\n      .then(res => res.json())\r\n      .then((data) => this.setState({\r\n        isLoaded: true,\r\n        items: data}))\r\n      .catch(console.log)\r\n  }\r\n}\r\n\r\nexport default Content;","import React, { Component } from 'react';\nimport {Link, Route, Switch} from 'react-router-dom'\nimport './css/App.css';\nimport Content from './components/Content'\n\nclass App extends Component {\n\n  state = {\n    language: \"de\",\n    id: 0\n  }\n\n  tmpId = 0\n\n  handleLangChange= (event) => {    \n    this.setState({language: event.target.value});  \n  }\n\n  handleInputChange = (event) => {\n    this.tmpId = event.target.value\n  }\n\n  submitInput = (event) => {\n    event.preventDefault();\n    this.setState({id: this.tmpId})\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div className=\"App-header-content\">\n            <h1 className=\"header-title\">CDA_</h1> \n            <form className=\"header-input\" onSubmit={this.submitInput}>\n              <input type=\"number\" placeholder=\" :id\" onChange={this.handleInputChange}/> \n              <input type=\"submit\" value=\"go\" />\n            </form>\n            <select className=\"header-lang-select\" value={this.state.language} onChange={this.handleLangChange}>\n              <option value=\"de\">Deutsch</option>\n              <option value=\"en\">English</option>\n            </select>\n          </div>\n        </header>\n        <div className=\"App-main\">\n          <Content language = {this.state.language} id={this.state.id}/>\n        </div>\n        <footer className=\"App-footer\">made by <a href=\"https://github.com/jomehr\">Jan Mehr</a></footer>\n      </div>\n    );\n  } \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nimport './css/index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}